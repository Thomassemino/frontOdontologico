---
/* eslint max-lines: 'off' */
import 'flowbite';
import 'datatables.net';
---

<div class="px-4 pt-6">
	<!-- Panel superior de Mi Perfil -->
	<div
		class="w-full bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"
	>
		<!-- Dropdown en la esquina superior derecha -->
		<div class="flex justify-end px-4 pt-4">
			<button
				id="dropdownButton"
				data-dropdown-toggle="dropdown"
				class="inline-block text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:ring-4 focus:outline-none focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-1.5"
				type="button"
			>
				<span class="sr-only">Open dropdown</span>
				<svg
					class="w-5 h-5"
					aria-hidden="true"
					xmlns="http://www.w3.org/2000/svg"
					fill="currentColor"
					viewBox="0 0 16 3"
				>
					<path
						d="M2 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm6.041 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM14 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Z"
					></path>
				</svg>
			</button>
		</div>

		<!-- Contenedor principal: Imagen e Información -->
		<div class="flex justify-between items-center px-6 py-4">
			<!-- Imagen del Usuario -->
			<div class="pr-8">
				<img
					class="w-48 h-48 rounded-full shadow-lg"
					src="/src/assets/flowbite-logo.svg"
					alt="Bonnie image"
				/>
			</div>

			<!-- Información del Usuario -->
			<div class="flex-1 ml-6">
				<h5 class="mb-1 text-xl font-medium text-gray-900 dark:text-white">
					Alejo Costa
				</h5>
				<div
					class="w-full bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 p-6"
				>
					<!-- Contenedor de datos en grid -->
					<div class="grid grid-cols-3 gap-4">
						<!-- Primera fila -->
						<div>
							<h5 class="text-sm font-medium text-gray-500 dark:text-gray-400">
								DNI
							</h5>
							<p class="text-lg font-medium text-gray-900 dark:text-white">
								12345678
							</p>
						</div>
						<div>
							<h5 class="text-sm font-medium text-gray-500 dark:text-gray-400">
								Teléfono
							</h5>
							<p class="text-lg font-medium text-gray-900 dark:text-white">
								+54 9 11 1234-5678
							</p>
						</div>
						<div>
							<h5 class="text-sm font-medium text-gray-500 dark:text-gray-400">
								Especialidad
							</h5>
							<p class="text-lg font-medium text-gray-900 dark:text-white">
								Odontología
							</p>
						</div>

						<!-- Segunda fila -->
						<div>
							<h5 class="text-sm font-medium text-gray-500 dark:text-gray-400">
								Género
							</h5>
							<p class="text-lg font-medium text-gray-900 dark:text-white">
								Masculino
							</p>
						</div>
						<div>
							<h5 class="text-sm font-medium text-gray-500 dark:text-gray-400">
								Nro Pacientes
							</h5>
							<p class="text-lg font-medium text-gray-900 dark:text-white">
								25
							</p>
						</div>
						<div>
							<h5 class="text-sm font-medium text-gray-500 dark:text-gray-400">
								Nro Tratamientos
							</h5>
							<p class="text-lg font-medium text-gray-900 dark:text-white">
								12
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div
			class="inline-flex items-center justify-center rounded-md shadow-sm p-4 w-full h-32"
			role="group"
		>
			<button
				type="button"
				class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-900 bg-transparent border border-gray-900 rounded-s-lg hover:bg-gray-900 hover:text-white focus:z-10 focus:ring-2 focus:ring-gray-500 focus:bg-gray-900 focus:text-white dark:border-white dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:bg-gray-700"
			>
				<svg
					class="w-3 h-3 me-2"
					aria-hidden="true"
					xmlns="http://www.w3.org/2000/svg"
					fill="currentColor"
					viewBox="0 0 20 20"
				>
					<path
						d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"
					></path>
				</svg>
				Tratamientos
			</button>
			<button
				type="button"
				class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-900 bg-transparent border-t border-b border-gray-900 hover:bg-gray-900 hover:text-white focus:z-10 focus:ring-2 focus:ring-gray-500 focus:bg-gray-900 focus:text-white dark:border-white dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:bg-gray-700"
			>
				<svg
					class="w-3 h-3 me-2"
					aria-hidden="true"
					xmlns="http://www.w3.org/2000/svg"
					fill="none"
					viewBox="0 0 20 20"
				>
					<path
						stroke="currentColor"
						stroke-linecap="round"
						stroke-linejoin="round"
						stroke-width="2"
						d="M4 12.25V1m0 11.25a2.25 2.25 0 0 0 0 4.5m0-4.5a2.25 2.25 0 0 1 0 4.5M4 19v-2.25m6-13.5V1m0 2.25a2.25 2.25 0 0 0 0 4.5m0-4.5a2.25 2.25 0 0 1 0 4.5M10 19V7.75m6 4.5V1m0 11.25a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM16 19v-2"
					></path>
				</svg>
				Citas
			</button>
			<button
				type="button"
				class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-900 bg-transparent border border-gray-900 rounded-e-lg hover:bg-gray-900 hover:text-white focus:z-10 focus:ring-2 focus:ring-gray-500 focus:bg-gray-900 focus:text-white dark:border-white dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:bg-gray-700"
			>
				<svg
					class="w-3 h-3 me-2"
					aria-hidden="true"
					xmlns="http://www.w3.org/2000/svg"
					fill="currentColor"
					viewBox="0 0 20 20"
				>
					<path
						d="M14.707 7.793a1 1 0 0 0-1.414 0L11 10.086V1.5a1 1 0 0 0-2 0v8.586L6.707 7.793a1 1 0 1 0-1.414 1.414l4 4a1 1 0 0 0 1.416 0l4-4a1 1 0 0 0-.002-1.414Z"
					></path>
					<path
						d="M18 12h-2.55l-2.975 2.975a3.5 3.5 0 0 1-4.95 0L4.55 12H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2Zm-3 5a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"
					></path>
				</svg>
				Pacientes
			</button>
		</div>
		<!-- Tablas -->
		<div class="relative overflow-x-auto shadow-md sm:rounded-lg p-6">
			<div class="flex flex-column sm:flex-row flex-wrap space-y-4 sm:space-y-0 items-center justify-between pb-4">
			<!-- Acá irian las tablas según el botón -->
			</div>
		</div>
	</div>

	<script>
    const contenedor = document.getElementById("datos-profesional");
    const jsonPath = "/profesional.json"; // Ruta al archivo JSON

    async function cargarDatos() {
        try {
            const response = await fetch(jsonPath);

            if (!response.ok) {
                throw new Error(`Error al cargar el archivo JSON: ${response.statusText}`);
            }

            const profesional = await response.json();

            contenedor.innerHTML = `
                <div class="flex-1 ml-6">
                    <h5 class="mb-1 text-xl font-medium text-gray-900 dark:text-white">
                        ${profesional.nombre}
                    </h5>
                    <div
                        class="w-full bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 p-6"
                    >
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <h5 class="text-sm font-medium text-gray-500 dark:text-gray-400">
                                    DNI
                                </h5>
                                <p class="text-lg font-medium text-gray-900 dark:text-white">
                                    ${profesional.dni}
                                </p>
                            </div>
                            <div>
                                <h5 class="text-sm font-medium text-gray-500 dark:text-gray-400">
                                    Teléfono
                                </h5>
                                <p class="text-lg font-medium text-gray-900 dark:text-white">
                                    ${profesional.telefono}
                                </p>
                            </div>
                            <div>
                                <h5 class="text-sm font-medium text-gray-500 dark:text-gray-400">
                                    Especialidad
                                </h5>
                                <p class="text-lg font-medium text-gray-900 dark:text-white">
                                    ${profesional.especialidad}
                                </p>
                            </div>
                            <div>
                                <h5 class="text-sm font-medium text-gray-500 dark:text-gray-400">
                                    Género
                                </h5>
                                <p class="text-lg font-medium text-gray-900 dark:text-white">
                                    ${profesional.genero}
                                </p>
                            </div>
                            <div>
                                <h5 class="text-sm font-medium text-gray-500 dark:text-gray-400">
                                    Nro Pacientes
                                </h5>
                                <p class="text-lg font-medium text-gray-900 dark:text-white">
                                    ${profesional.pacientes}
                                </p>
                            </div>
                            <div>
                                <h5 class="text-sm font-medium text-gray-500 dark:text-gray-400">
                                    Nro Tratamientos
                                </h5>
                                <p class="text-lg font-medium text-gray-900 dark:text-white">
                                    ${profesional.tratamientos}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        } catch (error) {
            console.error("Error al cargar los datos del profesional:", error);
        }
    }

    cargarDatos();
	</script>

	<style is:global>
		/* chart styles */
		.apexcharts-tooltip {
			@apply bg-white dark:bg-gray-700 text-gray-500 dark:text-gray-400 border-0 rounded-lg shadow-lg !important;
		}

		.apexcharts-tooltip .apexcharts-tooltip-title {
			@apply py-2 px-4 bg-gray-100 dark:bg-gray-600 border-b border-gray-200 dark:border-gray-500 !important;
		}

		.apexcharts-xaxistooltip {
			@apply text-gray-500 border-0 bg-white dark:bg-gray-700 dark:text-gray-300 rounded-lg shadow-lg !important;
		}

		.apexcharts-tooltip .apexcharts-tooltip-text-y-value {
			@apply dark:text-white;
		}

		.apexcharts-xaxistooltip-text {
			@apply font-medium text-sm !important;
		}

		.apexcharts-xaxistooltip:before,
		.apexcharts-xaxistooltip:after {
			@apply border-0 !important;
		}
	</style>
</div>
